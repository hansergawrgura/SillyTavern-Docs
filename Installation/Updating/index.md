---
label: æ›´æ–°æŒ‡å—
icon: repo-pull
order: -1
expanded: false
---

# ğŸ”„ å¦‚ä½•æ›´æ–° SillyTavern

è¯·æ ¹æ®æ‚¨çš„æ“ä½œç³»ç»Ÿé€‰æ‹©å¯¹åº”çš„æ›´æ–°æŒ‡å—ã€‚

!!! å¦‚éœ€å®‰è£…æŒ‡å—ï¼Œè¯·å‚é˜…[å®‰è£…](/Installation/index.md)é¡µé¢ã€‚

æœ¬æŒ‡å—å‡è®¾æ‚¨å·²è‡³å°‘å®‰è£…å¹¶è¿è¡Œè¿‡ä¸€æ¬¡ SillyTavernã€‚
!!!

----

## ğŸ§ Linux/Termux æˆ– ğŸ macOS ç³»ç»Ÿ

æ‚¨è‚¯å®šæ˜¯é€šè¿‡ git å®‰è£…çš„ï¼Œåªéœ€åœ¨ SillyTavern ç›®å½•ä¸­æ‰§è¡Œ 'git pull' å³å¯ã€‚

- `cd SillyTavern` è¿›å…¥æ­£ç¡®çš„æ–‡ä»¶å¤¹
- `git pull` è·å–æ›´æ–°
- `./start.sh` æˆ– `bash start.sh` å¯åŠ¨ ST

----

## ğŸªŸ Windows ç³»ç»Ÿ

>é¦–å…ˆå°è¯•ä½¿ç”¨ä½äº SillyTavern å®‰è£…åŸºç¡€æ–‡ä»¶å¤¹ä¸­çš„ `UpdateAndStart.bat`

å¦‚æœå¤±è´¥ï¼Œè¯·å›åˆ°æ­¤å¤„ç»§ç»­é˜…è¯»ã€‚

### æ–¹æ³• 1 - GIT æ–¹å¼

æˆ‘ä»¬å§‹ç»ˆæ¨èç”¨æˆ·ä½¿ç”¨ 'git' å®‰è£…ã€‚åŸå› å¦‚ä¸‹ï¼š

å½“æ‚¨é€šè¿‡ `git clone` å®‰è£…æ—¶ï¼Œè¦æ›´æ–°åªéœ€åœ¨ [ST æ–‡ä»¶å¤¹çš„å‘½ä»¤è¡Œä¸­](https://www.google.com/search?q=how+to+open+command+prompt+in+a+folder)è¾“å…¥ `git pull`ã€‚
æˆ–è€…ï¼Œå¦‚æœå‘½ä»¤æç¤ºç¬¦å‡ºç°é—®é¢˜ï¼ˆä¸”æ‚¨å·²å®‰è£… GitHub Desktopï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ `Repository` èœå•å¹¶é€‰æ‹© `Pull`ã€‚

æ›´æ–°ä¼šè‡ªåŠ¨å®‰å…¨åœ°åº”ç”¨ã€‚

#### "æ±‚åŠ©ï¼šæˆ‘æœ€åˆé€šè¿‡ Zip å®‰è£…ï¼Œç°åœ¨æƒ³è½¬æ¢ä¸º Git å®‰è£…"

æ‚¨é€‰æ‹©äº†æ˜æ™ºçš„é“è·¯ã€‚

ç”±äºæ‚¨çš„å®‰è£…æ˜¯é€šè¿‡ Zip å®Œæˆçš„ï¼Œæ‚¨éœ€è¦ä½¿ç”¨ git è¿›è¡Œå…¨æ–°å®‰è£…ã€‚

å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬æä¾›äº†[æ“ä½œè¯´æ˜](/Installation/Windows.md)ã€‚

ä¸€æ—¦æ‚¨ä½¿ç”¨ git å°†æ–°çš„ SillyTavern å®‰è£…åˆ°ä¸åŒçš„æ–‡ä»¶å¤¹ä¸­ï¼Œè¯·å›åˆ°æœ¬é¡µé¢å¹¶ç»§ç»­æ‰§è¡Œä¸‹é¢ã€ŒZip æ›´æ–°ã€è¯´æ˜ä¸­çš„**ç¬¬ 4 æ­¥**ã€‚

### æ–¹æ³• 2 - ZIP æ–¹å¼

å¦‚æœæ‚¨åšæŒé€šè¿‡ zip å®‰è£…ï¼Œä»¥ä¸‹æ˜¯ç¹ççš„æ›´æ–°è¿‡ç¨‹ï¼š

1. ä¸‹è½½æ–°çš„å‘å¸ƒç‰ˆ zip æ–‡ä»¶
2. å°†å…¶è§£å‹åˆ°å½“å‰ ST å®‰è£…ä¹‹å¤–çš„æ–‡ä»¶å¤¹ä¸­
3. æŒ‰ç…§æ‚¨æ“ä½œç³»ç»Ÿçš„å¸¸è§„è®¾ç½®ç¨‹åºå®‰è£… NodeJS è¦æ±‚

4. æ ¹æ®éœ€è¦(*)ä»æ—§çš„ ST å®‰è£…ä¸­å¤åˆ¶ä»¥ä¸‹æ–‡ä»¶/æ–‡ä»¶å¤¹ï¼š

    (*) 'æ ¹æ®éœ€è¦' = "å¦‚æœæ‚¨åˆ›å»ºäº†ä¸è¿™äº›æ–‡ä»¶å¤¹ç›¸å…³çš„ä»»ä½•è‡ªå®šä¹‰å†…å®¹"
    
    #### æ›´æ–° >=1.12.0 ç‰ˆæœ¬
    
    å°† `/data` ç›®å½•å’Œ `config.yaml` æ–‡ä»¶ä»ä¸€ä¸ªå®‰è£…å¤åˆ¶åˆ°å¦ä¸€ä¸ªå®‰è£…
    
    #### ä» <1.12.0 æ›´æ–°åˆ° >1.12.0 ç‰ˆæœ¬
    
    1.12.0 åŒ…å«è‡ªåŠ¨è¿ç§»ç¨‹åºã€‚ä»…å½“è¿ç§»è¢«ä¸­æ–­æˆ–å‡ºé”™æ—¶æ‰éœ€è¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ã€‚

5. è‡³å°‘è¿è¡Œä¸€æ¬¡æ›´æ–°åçš„æœåŠ¡å™¨å®‰è£…ï¼Œä»¥åˆ›å»º `/data/default-user` ç›®å½•
6. æ ¹æ®éœ€è¦å°†æ–‡ä»¶ä»æ—§çš„ `/public` è½¬ç§»åˆ°æ–°çš„ `/data/default-user`
    
    æ‰€æœ‰æ–‡ä»¶å¤¹éƒ½ä¸æ˜¯å¿…éœ€çš„ï¼Œå› æ­¤åªéœ€å¤åˆ¶æ‚¨éœ€è¦çš„å†…å®¹
    
    **æ³¨æ„ï¼šä¸è¦å¤åˆ¶æ•´ä¸ª /PUBLIC/ æ–‡ä»¶å¤¹**
    
    è¿™æ ·åšå¯èƒ½ä¼šç ´åæ–°å®‰è£…å¹¶é˜»æ­¢æ–°åŠŸèƒ½çš„å‡ºç°
    
    ```plaintext
    Assets
    Backgrounds
    Characters
    Chats
    Context
    Groups
    Group chats
    Instruct
    movingUI
    KoboldAI Settings
    NovelAI Settings
    OpenAI Settings
    QuickReplies
    TextGen Settings (textgen = ooba)
    Themes
    User Avatars
    Worlds
    User
    settings.json
    secrets.json <---- è¿™ä¸ªæ–‡ä»¶åœ¨åŸºç¡€æ–‡ä»¶å¤¹ä¸­ï¼Œä¸åœ¨ /public/ ä¸­
    ```

7. å¤åˆ¶è¿™äº›æ–‡ä»¶å¤¹/æ–‡ä»¶åï¼Œå°†å®ƒä»¬ç²˜è´´åˆ°æ–°å®‰è£…çš„ /data/default-user æ–‡ä»¶å¤¹ä¸­ï¼ˆsecrets.json æ”¾åœ¨æ–‡ä»¶å¤¹æ ¹ç›®å½•ä¸­ï¼‰
8. å†æ¬¡ä½¿ç”¨é€‚ç”¨äºæ‚¨æ“ä½œç³»ç»Ÿçš„æ–¹æ³•å¯åŠ¨ SillyTavernï¼Œå¹¶ç¥ˆç¥·æ‚¨åšå¯¹äº†
9. å¦‚æœä¸€åˆ‡æ­£å¸¸æ˜¾ç¤ºï¼Œæ‚¨å¯ä»¥å®‰å…¨åœ°åˆ é™¤æ—§çš„ ST æ–‡ä»¶å¤¹

### å¸¸è§æ›´æ–°é—®é¢˜

#### "å·¥ä½œç›®å½•ä¸­å­˜åœ¨æœªè§£å†³çš„å†²çª"

è¿™æ„å‘³ç€æ‚¨ä¿®æ”¹äº†è¿œç¨‹ä»“åº“ä¸­å·²æ›´æ”¹çš„é»˜è®¤æ–‡ä»¶ï¼ˆä¾‹å¦‚è®¾ç½®é¢„è®¾ï¼‰ã€‚

è¦è§£å†³æ­¤é—®é¢˜ï¼Œè¯·åœ¨ç»ˆç«¯ä¸­è¿è¡Œæ­¤å‘½ä»¤ã€‚è¯·è°¨æ…ä½¿ç”¨ï¼Œå› ä¸ºå®ƒå¯èƒ½å…·æœ‰ç ´åæ€§ã€‚å¦‚æœéœ€è¦ï¼Œè¯·ç¡®ä¿æœ‰å¤‡ä»½ã€‚

```bash
git merge --abort
git reset --hard
git pull --rebase --autostash
```

#### æ–‡ä»¶æ›´æ”¹é˜»æ­¢ git pull

- å¦‚æœæ‚¨æ›´æ”¹äº† SillyTavern ç³»ç»Ÿæ–‡ä»¶ï¼Œ`git pull` å¯èƒ½æ— æ³•å·¥ä½œ
- æœ‰æ—¶æ›´æ–°å¯èƒ½éœ€è¦æˆ‘ä»¬æ›´æ”¹é‡è¦æ–‡ä»¶ï¼Œè¿™å¯èƒ½å¯¼è‡´ç›¸åŒçš„é—®é¢˜
- é€šå¸¸æ˜¯é»˜è®¤é¢„è®¾æ–‡ä»¶æˆ– `package-lock.json`
- åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥å°è¯•å°†æ–‡ä»¶ç§»åŠ¨åˆ°å…¶ä»–æ–‡ä»¶å¤¹ï¼ˆæˆ–åˆ é™¤æ–‡ä»¶ï¼‰ï¼Œç„¶åæ‰§è¡Œ `git pull`
- å¦ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ `git pull --rebase --autostash`

#### å¯åŠ¨æœåŠ¡å™¨æ—¶å‡ºç°é”™è¯¯ï¼šCannot find module "***"

- è¿™æ„å‘³ç€ SillyTavern æ·»åŠ äº†æ–°çš„ npm åŒ…è¦æ±‚
- åœ¨ SillyTavern ç›®å½•ä¸­è¿è¡Œ `npm install` æ¥ä¿®å¤æ­¤é—®é¢˜ã€‚æä¾›çš„ Start.bat å’Œ start.sh è„šæœ¬ä¼šè‡ªåŠ¨æ‰§è¡Œæ­¤æ“ä½œ
- æ²¡æœ‰å¸®åŠ©ï¼Ÿåˆ é™¤ node_modules æ–‡ä»¶å¤¹

**Windows ç³»ç»Ÿ**

```bash
rmdir /s /q node_modules
npm cache clean --force
npm install
```

**Unix/Linux ç³»ç»Ÿ**

```bash
rm -rf node_modules
npm cache clean --force
npm install
```

## ğŸ³ Docker æ–¹å¼

1. æ‰“å¼€ç»ˆç«¯çª—å£å¹¶å¯¼èˆªåˆ°æ‚¨çš„ docker ç›®å½• `cd SillyTavern/docker`
2. ä½¿ç”¨ `docker compose down` åˆ é™¤æ‚¨çš„å®¹å™¨
3. ä»ç¼“å­˜ä¸­åˆ é™¤ SillyTavern docker é•œåƒ `docker rmi ghcr.io/sillytavern/sillytavern:latest`ï¼ˆå¦‚æœæ‚¨çš„ç›®æ ‡æ˜¯ staging åˆ†æ”¯ï¼Œè¯·å°† `sillytavern:latest` æ›¿æ¢ä¸º `sillytavern:staging`ï¼‰
4. ä½¿ç”¨ `sudo docker compose up -d` é‡æ–°æ„å»ºå®¹å™¨

å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œdocker åº”è¯¥å¼€å§‹é‡æ–°ä¸‹è½½é•œåƒï¼Œæ‚¨å¾ˆå¿«å°±ä¼šå¯åŠ¨å¹¶è¿è¡Œã€‚å¦‚æœé‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·å‚é˜…æœ¬æŒ‡å—çš„ä¸‹ä¸€éƒ¨åˆ†ã€‚

### å¸¸è§æ›´æ–°é—®é¢˜
#### æˆ‘ä½¿ç”¨ Dockerï¼Œæ›´æ–°åæ‰€æœ‰æ•°æ®éƒ½æ¶ˆå¤±äº†ï¼

æ‚¨å¿…é¡»éµå¾ª [Docker å®¹å™¨çš„è¿ç§»æŒ‡å—](/Installation/Updating/ST-1.12.0-Migration-Guide.md#å®¹å™¨åŒ–dockerå®‰è£…)
æ¥æ›´æ–° 1.12.0 ä¸­å¼•å…¥çš„æ–°æ•°æ®æ¨¡å‹çš„å·æ˜ å°„

#### è¿è¡Œ docker å‘½ä»¤æ—¶æƒé™è¢«æ‹’ç»

è¿™æ˜¯ Linux é—®é¢˜ï¼Œæ„å‘³ç€æ‚¨çš„æƒé™è®¾ç½®ä¸æ­£ç¡®ã€‚æœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼š

1. **ç®€å•æ–¹æ³•**ï¼šå¦‚æœæ‚¨çš„ç”¨æˆ·å…·æœ‰ sudo è®¿é—®æƒé™ï¼Œåªéœ€åœ¨å‘½ä»¤å‰åŠ ä¸Š `sudo`ï¼ˆä¾‹å¦‚ï¼š`sudo docker compose down`ï¼‰
2. **æ­£ç¡®æ–¹æ³•**ï¼šä¿®å¤æ‚¨çš„æƒé™ã€‚è¿™å–å†³äºæ‚¨ä½¿ç”¨çš„ Linux ç‰ˆæœ¬ã€‚ç½‘ä¸Šæœ‰å¾ˆå¤šæŒ‡å—å¯ä»¥å¸®åŠ©æ‚¨è§£å†³æ­¤é—®é¢˜